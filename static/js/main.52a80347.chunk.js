(this.webpackJsonpcommunere=this.webpackJsonpcommunere||[]).push([[0],{21:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var i=n(1),c=n.n(i),o=n(6),a=n.n(o),l=(n(21),n(2)),r=n(13),s=n(3),u=n(33);function j(t){var e=t.center,n=t.currentLocation,c=Object(u.a)();return Object(i.useEffect)((function(){n&&((null===n||void 0===n?void 0:n.lat)===e.lat&&(null===n||void 0===n?void 0:n.lng)===e.lng||c.setView(n))}),[n]),null}function d(t){var e=t.onClick,n=void 0===e?function(){}:e;return Object(u.b)("click",(function(t){n({lat:t.latlng.lat,lng:t.latlng.lng})})),null}var b=n(5),m=n.n(b),h=n.p+"static/media/location_icon.ab799087.svg",v=m.a.icon({iconUrl:h,iconRetinaUrl:h,iconAnchor:void 0,shadowUrl:void 0,shadowSize:void 0,shadowAnchor:void 0,iconSize:[30,30],className:"leaflet-marker-icon"}),O=n(34),f=n(0);function p(t){var e=t.position,n=t.children;return Object(f.jsx)(O.a,{position:e,icon:v,children:n})}var x=n(35);n(23);function g(t){var e=t.title,n=t.style,c=void 0===n?{}:n,o=t.onClick,a=void 0===o?function(){}:o,r=t.buttonType,s=void 0===r?"white":r,u=t.className,j=void 0===u?"":u,d=t.children,b=t.shape,m=void 0===b?"normal":b,h=t.type,v=Object(i.useRef)("1"),O=Object(i.useState)({}),p=Object(l.a)(O,2),x=p[0],g=p[1],C=function(t){a(t);var e=Math.max(t.currentTarget.getBoundingClientRect().width,t.currentTarget.getBoundingClientRect().height),n=t.pageX-t.currentTarget.getBoundingClientRect().left-e/2,i=t.pageY-t.currentTarget.getBoundingClientRect().top-e/2;v.current="1"===v.current?"2":"1",g({left:n,top:i,width:e,height:e,animation:"rippleAnimation".concat(v.current," 0.65s linear")})};return Object(f.jsxs)("button",{className:"myCustomButtonClass ".concat(s," ").concat(j," ").concat(m),style:c,onClick:function(t){return C(t)},type:h,children:[d||e,Object(f.jsx)("div",{className:"myCustomButtonClass--ripple",style:x})]})}n(24);function C(t){var e=t.type,n=t.logo,i=t.position,c=t.title,o=t.id,a=t.onEdit,l=void 0===a?function(){}:a;return Object(f.jsx)(x.a,{children:Object(f.jsxs)("div",{className:"locationPopup",children:[Object(f.jsx)("div",{className:"locationPopup__title",children:c}),Object(f.jsx)("div",{children:Object(f.jsx)(g,{className:"locationPopup__btn",onClick:function(){return l({id:o,position:i,type:e,title:c,logo:n})},children:"Edit"})})]})})}var N=n(36),y=n(37);n(25),n(26);var _=function(t){var e=t.marks,n=void 0===e?[]:e,i=t.currentLocation,c=t.onClick,o=t.containerClassName,a=void 0===o?"":o,l=t.className,r=void 0===l?"":l,u=t.style,b=void 0===u?{height:"100vh",width:"100%"}:u,m=t.mark,h=t.onEdit,v={lat:51.505,lng:-.09};return Object(f.jsx)("div",{className:["Map--container",a].join(" "),children:Object(f.jsxs)(N.a,{className:r,center:null!==i&&void 0!==i?i:v,zoom:13,scrollWheelZoom:!1,style:b,children:[Object(f.jsx)(j,{center:v,currentLocation:i}),Object(f.jsx)(y.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object(f.jsx)(d,{onClick:c}),n.map((function(t,e){return Object(f.jsx)(p,{position:t.position,children:Object(f.jsx)(C,Object(s.a)(Object(s.a)({},t),{},{onEdit:h}))},e)})),m&&Object(f.jsx)(p,{position:m})]})})};n(27);function S(t){var e=t.location,n=t.onSubmit,c=t.editObject,o=t.afterSubmit,a=void 0===o?function(){}:o,u={id:void 0,title:"",type:"1",logo:"",position:void 0},j=Object(i.useState)(u),d=Object(l.a)(j,2),b=d[0],m=d[1];console.log(c),Object(i.useEffect)((function(){m(e?Object(s.a)(Object(s.a)({},b),{},{position:e}):c||u)}),[e,c]);var h=function(t,e){m(Object(s.a)(Object(s.a)({},b),{},Object(r.a)({},t,e)))};return Object(f.jsxs)("form",{className:"locationForm",onSubmit:function(t){t.preventDefault(),n({id:b.id?b.id:(new Date).getTime(),title:b.title,logo:b.logo,position:b.position,type:b.type}),a()},children:[Object(f.jsxs)("div",{className:"locationForm__row",children:[Object(f.jsx)("label",{children:"Location Name:"}),Object(f.jsx)("input",{value:b.title,onChange:function(t){return h("title",t.target.value)},required:!0})]}),Object(f.jsxs)("div",{className:"locationForm__row",children:[Object(f.jsx)("label",{children:"Location on map:"}),Object(f.jsx)(_,{containerClassName:"locationForm__map",currentLocation:b.position,mark:b.position,style:{width:"50%",height:"12rem"},onClick:function(t){var e=t.lat,n=t.lng;return c?h("position",{lat:e,lng:n}):function(){}}})]}),Object(f.jsxs)("div",{className:"locationForm__row",children:[Object(f.jsx)("label",{children:"Location type:"}),Object(f.jsx)("select",{value:b.type,onChange:function(t){return h("type",t.target.value)},children:[{label:"Business",value:1},{label:"Entertainment",value:2}].map((function(t,e){return Object(f.jsx)("option",{value:t.value,children:t.label},e)}))})]}),Object(f.jsxs)("div",{className:"locationForm__row",children:[Object(f.jsx)("label",{children:"Logo:"}),Object(f.jsx)("input",{value:b.logo,type:"file"})]}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"locationForm__footer",children:Object(f.jsx)(g,{className:"locationForm__btn",type:"submit",children:"Submit"})})})]})}var k=Object(i.memo)(S),w=n.p+"static/media/close.9c6367db.svg",F=(n(28),function(t){var e=t.show,n=t.onClose,i=t.title,c=t.children;return e?a.a.createPortal(Object(f.jsx)("div",{className:"modalContainer",onClick:function(){return n()},children:Object(f.jsxs)("div",{className:"modal",onClick:function(t){return t.stopPropagation()},children:[Object(f.jsxs)("header",{className:"modal_header",children:[Object(f.jsx)("h2",{className:"modal_header-title",children:i}),Object(f.jsx)(g,{className:"modal_close",shape:"iconButton",onClick:function(){return n()},children:Object(f.jsx)("img",{src:w,alt:"close"})})]}),Object(f.jsx)("main",{className:"modal_content",children:c})]})}),document.getElementById("modal")):Object(f.jsx)("div",{})}),B=n(15),E=Object(i.createContext)({locations:[],onSubmit:function(){}});function L(t){var e=t.children,n=Object(i.useState)([]),c=Object(l.a)(n,2),o=c[0],a=c[1];return Object(f.jsx)(E.Provider,{value:{locations:o,onSubmit:function(t){var e=o.findIndex((function(e){return e.id===t.id}));if(e>=0){var n=Object(B.a)(o);n[e]=t,a(n)}else a([].concat(Object(B.a)(o),[t]))}},children:e})}function P(){var t=Object(i.useContext)(E),e=t.locations,n=t.onSubmit,c=Object(i.useState)(void 0),o=Object(l.a)(c,2),a=o[0],r=o[1],s=Object(i.useState)(void 0),u=Object(l.a)(s,2),j=u[0],d=u[1],b=function(){j&&d(void 0),a&&r(void 0),r(void 0)};return Object(f.jsxs)("div",{children:[Object(f.jsx)(_,{marks:e,onClick:function(t){var e=t.lat,n=t.lng;r({lat:e,lng:n})},onEdit:function(t){d(t)}}),Object(f.jsx)(F,{show:!!a||!!j,title:"Share location",onClose:function(){return b()},children:Object(f.jsx)(k,{location:a,onSubmit:n,afterSubmit:b,editObject:j})})]})}function T(t){var e=t.children;return Object(f.jsx)(f.Fragment,{children:e})}n(29);function R(){return Object(f.jsx)("div",{className:"Header"})}n(30);function z(t){var e=t.children;return Object(f.jsxs)("div",{className:"layout",children:[Object(f.jsx)(R,{}),Object(f.jsx)(T,{children:e})]})}n(31);var A=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(L,{children:Object(f.jsx)(z,{children:Object(f.jsx)(P,{})})})})},I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),i(t),c(t),o(t),a(t)}))};a.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(A,{})}),document.getElementById("root")),I()}},[[32,1,2]]]);
//# sourceMappingURL=main.52a80347.chunk.js.map